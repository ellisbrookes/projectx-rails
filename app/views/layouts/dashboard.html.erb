<!DOCTYPE html>
<html>
  <head>
    <title>ProjectxRails</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <%= stylesheet_link_tag "tailwind", "inter-font", "data-turbo-track": "reload" %>

    <%= javascript_importmap_tags %>
    <%= hotwire_livereload_tags if Rails.env.development? %>
    <%= render partial: "shared/theme_toggle" %>
  </head>

  <body class="dark:bg-slate-800" data-controller="theme">
    <main>
      <section class="relative dark:text-white">
        <%= render "shared/dashboard/sidebar" %>
        <%= render "shared/dashboard/navigation" %>

        <section class="relative mt-16 ml-24 md:ml-60 flex flex-col p-4 sm:p-6 lg:p-8">
          <nav>
            <div>
              <div class="w-full flex gap-4 p-2 mb-4 rounded-lg dark:bg-slate-900 bg-neutral-100">
                <% breadcrumbs.each do |crumb| %>
                  <% if crumb.path.present? %>
                    <%= link_to crumb.name, crumb.path, class: "breadcrumb-link" %>
                  <% else %>
                    <span class="breadcrumb-page">
                      <%= crumb.name %>
                    </span>
                  <% end %>

                  <% unless crumb == breadcrumbs.last %>
                    <span>/</span>
                  <% end %>
                <% end %>
              </div>
            </div>
          </nav>
          <%= render partial: "shared/alerts" %>
          <%= yield %>
        </section>
      </section>
    </main>
  </body>
</html>
