<div class="container mx-auto px-10 my-10">
  <div class="text-center mb-8">
    <h1 class="text-2xl font-semibold mb-2 dark:text-white">Pricing plans</h1>
    <p class="text-gray-700 dark:text-white">Find the perfect plan that suits your needs!</p>
  </div>

  <div class="flex justify-center">
      <button data-action="click->price-toggle#showMonthly" class="dark:text-white">Monthly</button>
      <button data-action="click->price-toggle#showYearly" class="dark:text-white">Yearly</button>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-8" data-controller="price-toggle">
      <%= render "monthly", data: { target: 'price-toggle.monthly' } %>
      <%= render "yearly", data: { target: 'price-toggle.yearly', class: 'hidden' } %>
  </div>

  <%# price comparision table %>
  <div class="text-center mt-8">
    <h1 class="text-2xl font-semibold mb-2 dark:text-white">Compare our plans</h1>
  </div>

  <div class="inline-block min-w-full align-middle">
    <table class="min-w-full divide-y divide-gray-200 dark:divide-slate-700 table-auto">
      <thead>
        <tr>
          <th scope="col" class="bg-gray-100 p-3 dark:bg-slate-900 dark:text-white text-gray-900 lg:table-cell">Basic</th>
          <th scope="col" class="bg-gray-100 p-3 dark:bg-slate-900 dark:text-white text-gray-900 lg:table-cell">Business</th>
          <th scope="col" class="bg-gray-100 p-3 dark:bg-slate-900 dark:text-white text-gray-900 lg:table-cell">Enterprise</th>
        </tr>
      </thead>

      <tbody>
        <% @prices.map(&:product).uniq.each do |product| %>
          <% product.features.each do |feature| %>
            <tr class="even:bg-gray-100 dark:even:bg-slate-900">
              <td class="whitespace-nowrap px-3 py-5 text-sm">
                <div class="text-gray-900 dark:text-white text-center">
                  <%= feature.name %>
                </div>
              </td>
            </tr>
          <% end %>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
